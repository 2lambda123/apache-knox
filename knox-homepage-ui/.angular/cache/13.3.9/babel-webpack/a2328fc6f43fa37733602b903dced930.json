{"ast":null,"code":"import _classCallCheck from \"/Users/mbalazs/projects/knox/knox-homepage-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mbalazs/projects/knox/knox-homepage-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { ActivatedRoute } from '@angular/router';\nimport { HomepageService } from '../homepage.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../homepage.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction GeneralProxyInformationComponent_div_4_tr_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Knox Version\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.getVersion());\n  }\n}\n\nfunction GeneralProxyInformationComponent_div_4_tr_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"TLS Public Certificate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 7);\n    i0.ɵɵtext(5, \"PEM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\xA0\\xA0|\\xA0\\xA0 \");\n    i0.ɵɵelementStart(7, \"a\", 7);\n    i0.ɵɵtext(8, \"JKS\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r2.getMetadataAPIUrl(\"publicCert?type=pem\"), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r2.getMetadataAPIUrl(\"publicCert?type=jks\"), i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction GeneralProxyInformationComponent_div_4_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Admin UI URL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r3.getAdminUiUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.getAdminUiUrl());\n  }\n}\n\nfunction GeneralProxyInformationComponent_div_4_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" Admin API Details \");\n    i0.ɵɵelement(3, \"span\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\")(5, \"a\", 8);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r4.getAdminApiDescription());\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r4.getAdminApiBookUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.getAdminApiBookUrl());\n  }\n}\n\nfunction GeneralProxyInformationComponent_div_4_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" Metadata API \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 8);\n    i0.ɵɵtext(5, \"General Proxy Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\xA0\\xA0|\\xA0\\xA0 \");\n    i0.ɵɵelementStart(7, \"a\", 8);\n    i0.ɵɵtext(8, \"Topologies\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r5.getMetadataAPIUrl(\"info\"), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r5.getMetadataAPIUrl(\"topologies\"), i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction GeneralProxyInformationComponent_div_4_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" Integration Tokens \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 8);\n    i0.ɵɵtext(5, \"Token Management\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\xA0\\xA0|\\xA0\\xA0 \");\n    i0.ɵɵelementStart(7, \"a\", 8);\n    i0.ɵɵtext(8, \"Token Generation\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r6.getTokenManagementUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r6.getTokenGenerationUrl(), i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction GeneralProxyInformationComponent_div_4_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Web Shell\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r7.getWebShellUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r7.getWebShellUrl());\n  }\n}\n\nfunction GeneralProxyInformationComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"table\", 3)(2, \"colgroup\");\n    i0.ɵɵelement(3, \"col\", 4)(4, \"col\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"tbody\");\n    i0.ɵɵtemplate(6, GeneralProxyInformationComponent_div_4_tr_6_Template, 5, 1, \"tr\", 6);\n    i0.ɵɵtemplate(7, GeneralProxyInformationComponent_div_4_tr_7_Template, 9, 2, \"tr\", 6);\n    i0.ɵɵtemplate(8, GeneralProxyInformationComponent_div_4_tr_8_Template, 6, 2, \"tr\", 6);\n    i0.ɵɵtemplate(9, GeneralProxyInformationComponent_div_4_tr_9_Template, 7, 3, \"tr\", 6);\n    i0.ɵɵtemplate(10, GeneralProxyInformationComponent_div_4_tr_10_Template, 9, 2, \"tr\", 6);\n    i0.ɵɵtemplate(11, GeneralProxyInformationComponent_div_4_tr_11_Template, 9, 2, \"tr\", 6);\n    i0.ɵɵtemplate(12, GeneralProxyInformationComponent_div_4_tr_12_Template, 6, 2, \"tr\", 6);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showKnoxVersion\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showPublicCerts\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showAdminUI\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showAdminAPI\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showMetadataAPI\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isTokenManagementEnabled() && ctx_r0[\"showTokens\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isWebshellEnabled() && ctx_r0[\"showWebShell\"]);\n  }\n}\n\nexport var GeneralProxyInformationComponent = /*#__PURE__*/function () {\n  function GeneralProxyInformationComponent(homepageService, route) {\n    _classCallCheck(this, GeneralProxyInformationComponent);\n\n    this.homepageService = homepageService;\n    this.route = route;\n    this['showGeneralProxyInformation'] = false;\n    this['showKnoxVersion'] = true;\n    this['showPublicCerts'] = true;\n    this['showAdminUI'] = true;\n    this['showAdminAPI'] = true;\n    this['showMetadataAPI'] = true;\n    this['showTokens'] = true;\n    this['showWebShell'] = true;\n  }\n\n  _createClass(GeneralProxyInformationComponent, [{\n    key: \"getVersion\",\n    value: function getVersion() {\n      if (this.generalProxyInformation) {\n        return this.generalProxyInformation.version;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"getAdminUiUrl\",\n    value: function getAdminUiUrl() {\n      if (this.generalProxyInformation) {\n        return this.generalProxyInformation.adminUiUrl;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"getWebShellUrl\",\n    value: function getWebShellUrl() {\n      if (this.generalProxyInformation) {\n        return this.generalProxyInformation.webShellUrl;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"getMetadataAPIUrl\",\n    value: function getMetadataAPIUrl(endpoint) {\n      return this.getAdminUiUrl().replace('manager/admin-ui/', 'metadata/api/v1/metadata/' + endpoint);\n    }\n  }, {\n    key: \"getAdminApiDescription\",\n    value: function getAdminApiDescription() {\n      return 'Knox provides a REST API which allows end-users executing CRUD operations on topologies/shared-porviders/descriptors/' + 'service definitions as well as fetching the Knox version.';\n    }\n  }, {\n    key: \"getAdminApiBookUrl\",\n    value: function getAdminApiBookUrl() {\n      if (this.generalProxyInformation) {\n        return this.generalProxyInformation.adminApiBookUrl;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"getTokenGenerationUrl\",\n    value: function getTokenGenerationUrl() {\n      return this.getAdminUiUrl().replace(new RegExp('manager/admin-ui/*'), 'homepage/token-generation/index.html');\n    }\n  }, {\n    key: \"getTokenManagementUrl\",\n    value: function getTokenManagementUrl() {\n      return this.getAdminUiUrl().replace(new RegExp('manager/admin-ui/*'), 'homepage/token-management/index.html');\n    }\n  }, {\n    key: \"isTokenManagementEnabled\",\n    value: function isTokenManagementEnabled() {\n      if (this.generalProxyInformation) {\n        return this.generalProxyInformation.enableTokenManagement === 'true';\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isWebshellEnabled\",\n    value: function isWebshellEnabled() {\n      if (this.generalProxyInformation) {\n        return this.generalProxyInformation.enableWebshell === 'true';\n      }\n\n      return false;\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      console.debug('GeneralProxyInformationComponent --> ngOnInit() --> ');\n      this.homepageService.getGeneralProxyInformation().then(function (generalProxyInformation) {\n        return _this.generalProxyInformation = generalProxyInformation;\n      });\n      var profileName;\n      this.route.queryParams.subscribe(function (params) {\n        profileName = params['profile'];\n        console.debug('Profile name = ' + profileName);\n\n        if (profileName) {\n          console.debug('Fetching profile information...');\n\n          _this.homepageService.getProfile(profileName).then(function (profile) {\n            return _this.setProfileFlags(profile);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"setProfileFlags\",\n    value: function setProfileFlags(profile) {\n      console.debug('Setting GPI profile flags...');\n      this['showKnoxVersion'] = profile['gpi_version'] === 'true';\n      this['showPublicCerts'] = profile['gpi_cert'] === 'true';\n      this['showAdminUI'] = profile['gpi_admin_ui'] === 'true';\n      this['showAdminAPI'] = profile['gpi_admin_api'] === 'true';\n      this['showMetadataAPI'] = profile['gpi_md_api'] === 'true';\n      this['showTokens'] = profile['gpi_tokens'] === 'true';\n      this['showWebShell'] = profile['gpi_webshell'] === 'true';\n    }\n  }, {\n    key: \"toggleBoolean\",\n    value: function toggleBoolean(propertyName) {\n      this[propertyName] = !this[propertyName];\n    }\n  }]);\n\n  return GeneralProxyInformationComponent;\n}();\n\nGeneralProxyInformationComponent.ɵfac = function GeneralProxyInformationComponent_Factory(t) {\n  return new (t || GeneralProxyInformationComponent)(i0.ɵɵdirectiveInject(i1.HomepageService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nGeneralProxyInformationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GeneralProxyInformationComponent,\n  selectors: [[\"app-general-proxy-information\"]],\n  features: [i0.ɵɵProvidersFeature([HomepageService])],\n  decls: 5,\n  vars: 3,\n  consts: [[3, \"click\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\"], [\"width\", \"30%\"], [\"width\", \"70%\"], [4, \"ngIf\"], [3, \"href\"], [\"target\", \"_blank\", 3, \"href\"], [\"data-toggle\", \"tooltip\", 1, \"inline-glyph\", \"glyphicon\", \"glyphicon-info-sign\", \"btn\", \"btn-xs\", 3, \"title\"]],\n  template: function GeneralProxyInformationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 0);\n      i0.ɵɵlistener(\"click\", function GeneralProxyInformationComponent_Template_h4_click_1_listener() {\n        return ctx.toggleBoolean(\"showGeneralProxyInformation\");\n      });\n      i0.ɵɵelement(2, \"span\");\n      i0.ɵɵtext(3, \"\\xA0General Proxy Information\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, GeneralProxyInformationComponent_div_4_Template, 13, 7, \"div\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassMap(\"clickable inline-glyph glyhpicon glyphicon-\" + (ctx[\"showGeneralProxyInformation\"] ? \"minus\" : \"plus\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx[\"showGeneralProxyInformation\"]);\n    }\n  },\n  directives: [i3.NgIf],\n  encapsulation: 2\n});","map":{"version":3,"sources":["/Users/mbalazs/projects/knox/knox-homepage-ui/home/app/generalProxyInformation/general.proxy.information.component.ts"],"names":["ActivatedRoute","HomepageService","i0","i1","i2","i3","GeneralProxyInformationComponent_div_4_tr_6_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","getVersion","GeneralProxyInformationComponent_div_4_tr_7_Template","ctx_r2","ɵɵpropertyInterpolate","getMetadataAPIUrl","ɵɵsanitizeUrl","GeneralProxyInformationComponent_div_4_tr_8_Template","ctx_r3","getAdminUiUrl","GeneralProxyInformationComponent_div_4_tr_9_Template","ɵɵelement","ctx_r4","getAdminApiDescription","getAdminApiBookUrl","GeneralProxyInformationComponent_div_4_tr_10_Template","ctx_r5","GeneralProxyInformationComponent_div_4_tr_11_Template","ctx_r6","getTokenManagementUrl","getTokenGenerationUrl","GeneralProxyInformationComponent_div_4_tr_12_Template","ctx_r7","getWebShellUrl","GeneralProxyInformationComponent_div_4_Template","ɵɵtemplate","ctx_r0","ɵɵproperty","isTokenManagementEnabled","isWebshellEnabled","GeneralProxyInformationComponent","homepageService","route","generalProxyInformation","version","adminUiUrl","webShellUrl","endpoint","replace","adminApiBookUrl","RegExp","enableTokenManagement","enableWebshell","console","debug","getGeneralProxyInformation","then","profileName","queryParams","subscribe","params","getProfile","profile","setProfileFlags","propertyName","ɵfac","GeneralProxyInformationComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","GeneralProxyInformationComponent_Template","ɵɵlistener","GeneralProxyInformationComponent_Template_h4_click_1_listener","toggleBoolean","ɵɵclassMap","directives","NgIf","encapsulation"],"mappings":"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","sourcesContent":["import { ActivatedRoute } from '@angular/router';\nimport { HomepageService } from '../homepage.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../homepage.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction GeneralProxyInformationComponent_div_4_tr_6_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Knox Version\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.getVersion());\n} }\nfunction GeneralProxyInformationComponent_div_4_tr_7_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"TLS Public Certificate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 7);\n    i0.ɵɵtext(5, \"PEM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\u00A0\\u00A0|\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(7, \"a\", 7);\n    i0.ɵɵtext(8, \"JKS\");\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r2.getMetadataAPIUrl(\"publicCert?type=pem\"), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r2.getMetadataAPIUrl(\"publicCert?type=jks\"), i0.ɵɵsanitizeUrl);\n} }\nfunction GeneralProxyInformationComponent_div_4_tr_8_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Admin UI URL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r3.getAdminUiUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.getAdminUiUrl());\n} }\nfunction GeneralProxyInformationComponent_div_4_tr_9_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" Admin API Details \");\n    i0.ɵɵelement(3, \"span\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\")(5, \"a\", 8);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r4.getAdminApiDescription());\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r4.getAdminApiBookUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.getAdminApiBookUrl());\n} }\nfunction GeneralProxyInformationComponent_div_4_tr_10_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" Metadata API \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 8);\n    i0.ɵɵtext(5, \"General Proxy Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\u00A0\\u00A0|\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(7, \"a\", 8);\n    i0.ɵɵtext(8, \"Topologies\");\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r5.getMetadataAPIUrl(\"info\"), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r5.getMetadataAPIUrl(\"topologies\"), i0.ɵɵsanitizeUrl);\n} }\nfunction GeneralProxyInformationComponent_div_4_tr_11_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" Integration Tokens \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 8);\n    i0.ɵɵtext(5, \"Token Management\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\u00A0\\u00A0|\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(7, \"a\", 8);\n    i0.ɵɵtext(8, \"Token Generation\");\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r6.getTokenManagementUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r6.getTokenGenerationUrl(), i0.ɵɵsanitizeUrl);\n} }\nfunction GeneralProxyInformationComponent_div_4_tr_12_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Web Shell\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r7.getWebShellUrl(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r7.getWebShellUrl());\n} }\nfunction GeneralProxyInformationComponent_div_4_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"table\", 3)(2, \"colgroup\");\n    i0.ɵɵelement(3, \"col\", 4)(4, \"col\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"tbody\");\n    i0.ɵɵtemplate(6, GeneralProxyInformationComponent_div_4_tr_6_Template, 5, 1, \"tr\", 6);\n    i0.ɵɵtemplate(7, GeneralProxyInformationComponent_div_4_tr_7_Template, 9, 2, \"tr\", 6);\n    i0.ɵɵtemplate(8, GeneralProxyInformationComponent_div_4_tr_8_Template, 6, 2, \"tr\", 6);\n    i0.ɵɵtemplate(9, GeneralProxyInformationComponent_div_4_tr_9_Template, 7, 3, \"tr\", 6);\n    i0.ɵɵtemplate(10, GeneralProxyInformationComponent_div_4_tr_10_Template, 9, 2, \"tr\", 6);\n    i0.ɵɵtemplate(11, GeneralProxyInformationComponent_div_4_tr_11_Template, 9, 2, \"tr\", 6);\n    i0.ɵɵtemplate(12, GeneralProxyInformationComponent_div_4_tr_12_Template, 6, 2, \"tr\", 6);\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showKnoxVersion\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showPublicCerts\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showAdminUI\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showAdminAPI\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0[\"showMetadataAPI\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isTokenManagementEnabled() && ctx_r0[\"showTokens\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isWebshellEnabled() && ctx_r0[\"showWebShell\"]);\n} }\nexport class GeneralProxyInformationComponent {\n    constructor(homepageService, route) {\n        this.homepageService = homepageService;\n        this.route = route;\n        this['showGeneralProxyInformation'] = false;\n        this['showKnoxVersion'] = true;\n        this['showPublicCerts'] = true;\n        this['showAdminUI'] = true;\n        this['showAdminAPI'] = true;\n        this['showMetadataAPI'] = true;\n        this['showTokens'] = true;\n        this['showWebShell'] = true;\n    }\n    getVersion() {\n        if (this.generalProxyInformation) {\n            return this.generalProxyInformation.version;\n        }\n        return '';\n    }\n    getAdminUiUrl() {\n        if (this.generalProxyInformation) {\n            return this.generalProxyInformation.adminUiUrl;\n        }\n        return '';\n    }\n    getWebShellUrl() {\n        if (this.generalProxyInformation) {\n            return this.generalProxyInformation.webShellUrl;\n        }\n        return '';\n    }\n    getMetadataAPIUrl(endpoint) {\n        return this.getAdminUiUrl().replace('manager/admin-ui/', 'metadata/api/v1/metadata/' + endpoint);\n    }\n    getAdminApiDescription() {\n        return 'Knox provides a REST API which allows end-users executing CRUD operations on topologies/shared-porviders/descriptors/'\n            + 'service definitions as well as fetching the Knox version.';\n    }\n    getAdminApiBookUrl() {\n        if (this.generalProxyInformation) {\n            return this.generalProxyInformation.adminApiBookUrl;\n        }\n        return '';\n    }\n    getTokenGenerationUrl() {\n        return this.getAdminUiUrl().replace(new RegExp('manager/admin-ui/*'), 'homepage/token-generation/index.html');\n    }\n    getTokenManagementUrl() {\n        return this.getAdminUiUrl().replace(new RegExp('manager/admin-ui/*'), 'homepage/token-management/index.html');\n    }\n    isTokenManagementEnabled() {\n        if (this.generalProxyInformation) {\n            return this.generalProxyInformation.enableTokenManagement === 'true';\n        }\n        return false;\n    }\n    isWebshellEnabled() {\n        if (this.generalProxyInformation) {\n            return this.generalProxyInformation.enableWebshell === 'true';\n        }\n        return false;\n    }\n    ngOnInit() {\n        console.debug('GeneralProxyInformationComponent --> ngOnInit() --> ');\n        this.homepageService.getGeneralProxyInformation()\n            .then(generalProxyInformation => this.generalProxyInformation = generalProxyInformation);\n        let profileName;\n        this.route.queryParams.subscribe(params => {\n            profileName = params['profile'];\n            console.debug('Profile name = ' + profileName);\n            if (profileName) {\n                console.debug('Fetching profile information...');\n                this.homepageService.getProfile(profileName).then(profile => this.setProfileFlags(profile));\n            }\n        });\n    }\n    setProfileFlags(profile) {\n        console.debug('Setting GPI profile flags...');\n        this['showKnoxVersion'] = (profile['gpi_version'] === 'true');\n        this['showPublicCerts'] = (profile['gpi_cert'] === 'true');\n        this['showAdminUI'] = (profile['gpi_admin_ui'] === 'true');\n        this['showAdminAPI'] = (profile['gpi_admin_api'] === 'true');\n        this['showMetadataAPI'] = (profile['gpi_md_api'] === 'true');\n        this['showTokens'] = (profile['gpi_tokens'] === 'true');\n        this['showWebShell'] = (profile['gpi_webshell'] === 'true');\n    }\n    toggleBoolean(propertyName) {\n        this[propertyName] = !this[propertyName];\n    }\n}\nGeneralProxyInformationComponent.ɵfac = function GeneralProxyInformationComponent_Factory(t) { return new (t || GeneralProxyInformationComponent)(i0.ɵɵdirectiveInject(i1.HomepageService), i0.ɵɵdirectiveInject(i2.ActivatedRoute)); };\nGeneralProxyInformationComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: GeneralProxyInformationComponent, selectors: [[\"app-general-proxy-information\"]], features: [i0.ɵɵProvidersFeature([HomepageService])], decls: 5, vars: 3, consts: [[3, \"click\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\"], [\"width\", \"30%\"], [\"width\", \"70%\"], [4, \"ngIf\"], [3, \"href\"], [\"target\", \"_blank\", 3, \"href\"], [\"data-toggle\", \"tooltip\", 1, \"inline-glyph\", \"glyphicon\", \"glyphicon-info-sign\", \"btn\", \"btn-xs\", 3, \"title\"]], template: function GeneralProxyInformationComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 0);\n        i0.ɵɵlistener(\"click\", function GeneralProxyInformationComponent_Template_h4_click_1_listener() { return ctx.toggleBoolean(\"showGeneralProxyInformation\"); });\n        i0.ɵɵelement(2, \"span\");\n        i0.ɵɵtext(3, \"\\u00A0General Proxy Information\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(4, GeneralProxyInformationComponent_div_4_Template, 13, 7, \"div\", 1);\n    } if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassMap(\"clickable inline-glyph glyhpicon glyphicon-\" + (ctx[\"showGeneralProxyInformation\"] ? \"minus\" : \"plus\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx[\"showGeneralProxyInformation\"]);\n    } }, directives: [i3.NgIf], encapsulation: 2 });\n"]},"metadata":{},"sourceType":"module"}