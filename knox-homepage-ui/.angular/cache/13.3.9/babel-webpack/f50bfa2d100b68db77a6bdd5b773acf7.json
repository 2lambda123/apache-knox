{"ast":null,"code":"import _classCallCheck from \"/Users/mbalazs/projects/knox/knox-homepage-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mbalazs/projects/knox/knox-homepage-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Injectable, Component, Input, Output, EventEmitter, ElementRef, HostBinding, NgZone, Directive, Optional, NgModule } from '@angular/core';\nimport { fromEvent, Observable, Subject, of, merge, zip } from 'rxjs';\nimport { filter, map, share, tap, take } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/** @enum {number} */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nvar _c0 = [\"*\"];\n\nfunction BsModalHeaderComponent_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r2 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"button\", 2);\n    ɵngcc0.ɵɵlistener(\"click\", function BsModalHeaderComponent_button_1_Template_button_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r2);\n      var ctx_r1 = ɵngcc0.ɵɵnextContext();\n      return ctx_r1.modal.dismiss();\n    });\n    ɵngcc0.ɵɵelementStart(1, \"span\", 3);\n    ɵngcc0.ɵɵtext(2, \"\\xD7\");\n    ɵngcc0.ɵɵelementEnd()();\n  }\n}\n\nfunction BsModalFooterComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"button\", 3);\n    ɵngcc0.ɵɵlistener(\"click\", function BsModalFooterComponent_button_2_Template_button_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ctx_r2.modal.dismiss();\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r0.dismissButtonLabel, \" \");\n  }\n}\n\nfunction BsModalFooterComponent_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"button\", 4);\n    ɵngcc0.ɵɵlistener(\"click\", function BsModalFooterComponent_button_3_Template_button_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ctx_r4.modal.close();\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r1.closeButtonLabel, \" \");\n  }\n}\n\nvar BsModalHideType = {\n  Close: 0,\n  Dismiss: 1,\n  Backdrop: 2,\n  Keyboard: 3,\n  RouteChange: 4,\n  Destroy: 5\n};\nBsModalHideType[BsModalHideType.Close] = 'Close';\nBsModalHideType[BsModalHideType.Dismiss] = 'Dismiss';\nBsModalHideType[BsModalHideType.Backdrop] = 'Backdrop';\nBsModalHideType[BsModalHideType.Keyboard] = 'Keyboard';\nBsModalHideType[BsModalHideType.RouteChange] = 'RouteChange';\nBsModalHideType[BsModalHideType.Destroy] = 'Destroy';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\nvar BsModalSize = /*#__PURE__*/function () {\n  function BsModalSize() {\n    _classCallCheck(this, BsModalSize);\n  }\n\n  _createClass(BsModalSize, null, [{\n    key: \"isValidSize\",\n    value:\n    /**\n     * @param {?} size\n     * @return {?}\n     */\n    function isValidSize(size) {\n      return size && (size === BsModalSize.Small || size === BsModalSize.Large);\n    }\n  }]);\n\n  return BsModalSize;\n}();\n\nBsModalSize.Small = 'sm';\nBsModalSize.Large = 'lg';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/** @type {?} */\n\nvar EVENT_SUFFIX = 'ng2-bs3-modal';\n/** @type {?} */\n\nvar KEYUP_EVENT_NAME = \"keyup.\".concat(EVENT_SUFFIX);\n/** @type {?} */\n\nvar CLICK_EVENT_NAME = \"click.\".concat(EVENT_SUFFIX);\n/** @type {?} */\n\nvar SHOW_EVENT_NAME = \"show.bs.modal.\".concat(EVENT_SUFFIX);\n\nvar BsModalService = /*#__PURE__*/function () {\n  function BsModalService() {\n    var _this = this;\n\n    _classCallCheck(this, BsModalService);\n\n    this.modals = [];\n    this.$body = jQuery(document.body);\n    this.onBackdropClose$ = fromEvent(this.$body, CLICK_EVENT_NAME).pipe(filter(function (e) {\n      return jQuery(e.target).is('.modal');\n    }), map(function () {\n      return BsModalHideType.Backdrop;\n    }), share());\n    this.onKeyboardClose$ = fromEvent(this.$body, KEYUP_EVENT_NAME).pipe(filter(function (e) {\n      return e.which === 27;\n    }), map(function () {\n      return BsModalHideType.Keyboard;\n    }), share());\n    this.onModalStack$ = fromEvent(this.$body, SHOW_EVENT_NAME).pipe(tap(function () {\n      /** @type {?} */\n      var zIndex = 1040 + 10 * jQuery('.modal:visible').length;\n      jQuery(_this).css('z-index', zIndex);\n      setTimeout(function () {\n        jQuery('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');\n      }, 0);\n    }), share());\n  }\n  /**\n   * @param {?} modal\n   * @return {?}\n   */\n\n\n  _createClass(BsModalService, [{\n    key: \"add\",\n    value: function add(modal) {\n      this.modals.push(modal);\n    }\n    /**\n     * @param {?} modal\n     * @return {?}\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      /** @type {?} */\n      var index = this.modals.indexOf(modal);\n\n      if (index > -1) {\n        this.modals.splice(index, 1);\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"focusNext\",\n    value: function focusNext() {\n      /** @type {?} */\n      var visible = this.modals.filter(function (m) {\n        return m.visible;\n      });\n\n      if (visible.length) {\n        this.$body.addClass('modal-open');\n        visible[visible.length - 1].focus();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"dismissAll\",\n    value: function dismissAll() {\n      return Promise.all(this.modals.map(function (m) {\n        return m.dismiss();\n      }));\n    }\n  }]);\n\n  return BsModalService;\n}();\n\nBsModalService.ɵfac = function BsModalService_Factory(t) {\n  return new (t || BsModalService)();\n};\n\nBsModalService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: BsModalService,\n  factory: BsModalService.ɵfac\n});\n/** @nocollapse */\n\nBsModalService.ctorParameters = function () {\n  return [];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/** @type {?} */\n\n\nvar EVENT_SUFFIX$1 = 'ng2-bs3-modal';\n/** @type {?} */\n\nvar SHOW_EVENT_NAME$1 = \"show.bs.modal.\".concat(EVENT_SUFFIX$1);\n/** @type {?} */\n\nvar SHOWN_EVENT_NAME = \"shown.bs.modal.\".concat(EVENT_SUFFIX$1);\n/** @type {?} */\n\nvar HIDE_EVENT_NAME = \"hide.bs.modal.\".concat(EVENT_SUFFIX$1);\n/** @type {?} */\n\nvar HIDDEN_EVENT_NAME = \"hidden.bs.modal.\".concat(EVENT_SUFFIX$1);\n/** @type {?} */\n\nvar LOADED_EVENT_NAME = \"loaded.bs.modal.\".concat(EVENT_SUFFIX$1);\n/** @type {?} */\n\nvar DATA_KEY = 'bs.modal';\n\nvar BsModalComponent = /*#__PURE__*/function () {\n  /**\n   * @param {?} element\n   * @param {?} service\n   * @param {?} zone\n   */\n  function BsModalComponent(element, service, zone) {\n    var _this2 = this;\n\n    _classCallCheck(this, BsModalComponent);\n\n    this.element = element;\n    this.service = service;\n    this.zone = zone;\n    this.overrideSize = null;\n    this.onInternalClose$ = new Subject();\n    this.subscriptions = [];\n    this.visible = false;\n    this.showing = false;\n    this.hiding = false;\n    this.animation = true;\n    this.backdrop = true;\n    this.keyboard = true;\n    this.onShow = new EventEmitter();\n    this.onOpen = new EventEmitter();\n    this.onHide = new EventEmitter();\n    this.onClose = new EventEmitter();\n    this.onDismiss = new EventEmitter();\n    this.onLoaded = new EventEmitter();\n\n    this.setVisible = function (isVisible) {\n      return function () {\n        _this2.visible = isVisible;\n        _this2.showing = false;\n        _this2.hiding = false;\n      };\n    };\n\n    this.setOptions = function (options) {\n      /** @type {?} */\n      var backdrop = options.backdrop;\n\n      if (typeof backdrop === 'string' && backdrop !== 'static') {\n        backdrop = true;\n      }\n\n      if (options.backdrop !== undefined) {\n        _this2.options.backdrop = backdrop;\n      }\n\n      if (options.keyboard !== undefined) {\n        _this2.options.keyboard = options.keyboard;\n      }\n    };\n\n    this.service.add(this);\n    this.init();\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _createClass(BsModalComponent, [{\n    key: \"options\",\n    get: function get() {\n      if (!this.$modal) {\n        this.init();\n      }\n\n      return this.$modal.data(DATA_KEY).options;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"fadeClass\",\n    get: function get() {\n      return this.animation;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"modalClass\",\n    get: function get() {\n      return true;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"roleAttr\",\n    get: function get() {\n      return 'dialog';\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"tabindexAttr\",\n    get: function get() {\n      return '-1';\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.wireUpEventEmitters();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.$dialog = this.$modal.find('.modal-dialog');\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges() {\n      this.setOptions({\n        backdrop: this.backdrop,\n        keyboard: this.keyboard\n      });\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.onInternalClose$.next(BsModalHideType.Destroy);\n      return this.destroy();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.$modal.trigger('focus');\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"routerCanDeactivate\",\n    value: function routerCanDeactivate() {\n      this.onInternalClose$.next(BsModalHideType.RouteChange);\n      return this.destroy();\n    }\n    /**\n     * @param {?=} size\n     * @return {?}\n     */\n\n  }, {\n    key: \"open\",\n    value: function open(size) {\n      this.overrideSize = null;\n\n      if (BsModalSize.isValidSize(size)) {\n        this.overrideSize = size;\n      }\n\n      return this.show().toPromise();\n    }\n    /**\n     * @param {?=} value\n     * @return {?}\n     */\n\n  }, {\n    key: \"close\",\n    value: function close(value) {\n      var _this3 = this;\n\n      this.onInternalClose$.next(BsModalHideType.Close);\n      return this.hide().pipe(tap(function () {\n        return _this3.onClose.emit(value);\n      })).toPromise().then(function () {\n        return value;\n      });\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"dismiss\",\n    value: function dismiss() {\n      this.onInternalClose$.next(BsModalHideType.Dismiss);\n      return this.hide().toPromise();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"getCssClasses\",\n    value: function getCssClasses() {\n      /** @type {?} */\n      var classes = [];\n\n      if (this.isSmall()) {\n        classes.push('modal-sm');\n      }\n\n      if (this.isLarge()) {\n        classes.push('modal-lg');\n      }\n\n      if (this.cssClass) {\n        classes.push(this.cssClass);\n      }\n\n      return classes.join(' ');\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"isSmall\",\n    value: function isSmall() {\n      return this.overrideSize !== BsModalSize.Large && this.size === BsModalSize.Small || this.overrideSize === BsModalSize.Small;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"isLarge\",\n    value: function isLarge() {\n      return this.overrideSize !== BsModalSize.Small && this.size === BsModalSize.Large || this.overrideSize === BsModalSize.Large;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this4 = this;\n\n      if (this.visible && !this.hiding) {\n        return of(null);\n      }\n\n      this.showing = true;\n      return Observable.create(function (o) {\n        _this4.onShown$.pipe(take(1)).subscribe(function (next) {\n          o.next(next);\n          o.complete();\n        });\n\n        _this4.transitionFix();\n\n        _this4.$modal.modal('show');\n      });\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"transitionFix\",\n    value: function transitionFix() {\n      var _this5 = this;\n\n      // Fix for shown.bs.modal not firing when .fade is present\n      // https://github.com/twbs/bootstrap/issues/11793\n      if (this.animation) {\n        setTimeout(function () {\n          _this5.$modal.trigger('focus').trigger(SHOWN_EVENT_NAME);\n        }, jQuery.fn.modal['Constructor'].TRANSITION_DURATION);\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this6 = this;\n\n      if (!this.visible && !this.showing) {\n        return of(null);\n      }\n\n      this.hiding = true;\n      return Observable.create(function (o) {\n        _this6.onHidden$.pipe(take(1)).subscribe(function (next) {\n          o.next(next);\n          o.complete();\n        });\n\n        _this6.$modal.modal('hide');\n      });\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this7 = this,\n          _this$subscriptions;\n\n      this.$modal = jQuery(this.element.nativeElement);\n      this.$modal.appendTo(document.body);\n      this.$modal.modal({\n        show: false\n      });\n      this.onShowEvent$ = fromEvent(this.$modal, SHOW_EVENT_NAME$1);\n      this.onShownEvent$ = fromEvent(this.$modal, SHOWN_EVENT_NAME);\n      this.onHideEvent$ = fromEvent(this.$modal, HIDE_EVENT_NAME);\n      this.onHiddenEvent$ = fromEvent(this.$modal, HIDDEN_EVENT_NAME);\n      this.onLoadedEvent$ = fromEvent(this.$modal, LOADED_EVENT_NAME);\n      /** @type {?} */\n\n      var onClose$ = merge(this.onInternalClose$, this.service.onBackdropClose$, this.service.onKeyboardClose$);\n      this.onHide$ = zip(this.onHideEvent$, onClose$).pipe(map(function (x) {\n        return (\n          /** @type {?} */\n          {\n            event: x[0],\n            type: x[1]\n          }\n        );\n      }));\n      this.onHidden$ = zip(this.onHiddenEvent$, onClose$).pipe(map(function (x) {\n        return x[1];\n      }), tap(this.setVisible(false)), tap(function () {\n        return _this7.service.focusNext();\n      }), share());\n      this.onShown$ = this.onShownEvent$.pipe(tap(this.setVisible(true)), share());\n      this.onDismiss$ = this.onHidden$.pipe(filter(function (x) {\n        return x !== BsModalHideType.Close;\n      })); // Start watching for events\n\n      (_this$subscriptions = this.subscriptions).push.apply(_this$subscriptions, [this.onShown$.subscribe(function () {}), this.onHidden$.subscribe(function () {}), this.service.onModalStack$.subscribe(function () {})]);\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"wireUpEventEmitters\",\n    value: function wireUpEventEmitters() {\n      this.wireUpEventEmitter(this.onShow, this.onShowEvent$);\n      this.wireUpEventEmitter(this.onOpen, this.onShown$);\n      this.wireUpEventEmitter(this.onHide, this.onHide$);\n      this.wireUpEventEmitter(this.onDismiss, this.onDismiss$);\n      this.wireUpEventEmitter(this.onLoaded, this.onLoadedEvent$);\n    }\n    /**\n     * @template T\n     * @param {?} emitter\n     * @param {?} stream$\n     * @return {?}\n     */\n\n  }, {\n    key: \"wireUpEventEmitter\",\n    value: function wireUpEventEmitter(emitter, stream$) {\n      var _this8 = this;\n\n      if (emitter.observers.length === 0) {\n        return;\n      }\n      /** @type {?} */\n\n\n      var sub = stream$.subscribe(function (next) {\n        _this8.zone.run(function () {\n          emitter.next(next);\n        });\n      });\n      this.subscriptions.push(sub);\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this9 = this;\n\n      return this.hide().pipe(tap(function () {\n        _this9.service.remove(_this9);\n\n        _this9.subscriptions.forEach(function (s) {\n          return s.unsubscribe();\n        });\n\n        _this9.subscriptions = [];\n\n        if (_this9.$modal) {\n          _this9.$modal.data(DATA_KEY, null);\n\n          _this9.$modal.remove();\n\n          _this9.$modal = null;\n        }\n      })).toPromise();\n    }\n  }]);\n\n  return BsModalComponent;\n}();\n\nBsModalComponent.ɵfac = function BsModalComponent_Factory(t) {\n  return new (t || BsModalComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(BsModalService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone));\n};\n\nBsModalComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: BsModalComponent,\n  selectors: [[\"bs-modal\"]],\n  hostVars: 6,\n  hostBindings: function BsModalComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵattribute(\"role\", ctx.roleAttr)(\"tabindex\", ctx.tabindexAttr);\n      ɵngcc0.ɵɵclassProp(\"fade\", ctx.fadeClass)(\"modal\", ctx.modalClass);\n    }\n  },\n  inputs: {\n    animation: \"animation\",\n    backdrop: \"backdrop\",\n    keyboard: \"keyboard\",\n    size: \"size\",\n    cssClass: \"cssClass\"\n  },\n  outputs: {\n    onShow: \"onShow\",\n    onOpen: \"onOpen\",\n    onHide: \"onHide\",\n    onClose: \"onClose\",\n    onDismiss: \"onDismiss\",\n    onLoaded: \"onLoaded\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c0,\n  decls: 3,\n  vars: 1,\n  consts: [[1, \"modal-dialog\", 3, \"ngClass\"], [1, \"modal-content\"]],\n  template: function BsModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      ɵngcc0.ɵɵprojection(2);\n      ɵngcc0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngClass\", ctx.getCssClasses());\n    }\n  },\n  directives: [ɵngcc1.NgClass],\n  encapsulation: 2\n});\n/** @nocollapse */\n\nBsModalComponent.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: BsModalService\n  }, {\n    type: NgZone\n  }];\n};\n\nBsModalComponent.propDecorators = {\n  animation: [{\n    type: Input\n  }],\n  backdrop: [{\n    type: Input\n  }],\n  keyboard: [{\n    type: Input\n  }],\n  size: [{\n    type: Input\n  }],\n  cssClass: [{\n    type: Input\n  }],\n  onShow: [{\n    type: Output\n  }],\n  onOpen: [{\n    type: Output\n  }],\n  onHide: [{\n    type: Output\n  }],\n  onClose: [{\n    type: Output\n  }],\n  onDismiss: [{\n    type: Output\n  }],\n  onLoaded: [{\n    type: Output\n  }],\n  fadeClass: [{\n    type: HostBinding,\n    args: ['class.fade']\n  }],\n  modalClass: [{\n    type: HostBinding,\n    args: ['class.modal']\n  }],\n  roleAttr: [{\n    type: HostBinding,\n    args: ['attr.role']\n  }],\n  tabindexAttr: [{\n    type: HostBinding,\n    args: ['attr.tabindex']\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bs-modal',\n      template: \"\\n        <div class=\\\"modal-dialog\\\" [ngClass]=\\\"getCssClasses()\\\">\\n            <div class=\\\"modal-content\\\">\\n                <ng-content></ng-content>\\n            </div>\\n        </div>\\n    \"\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: BsModalService\n    }, {\n      type: ɵngcc0.NgZone\n    }];\n  }, {\n    animation: [{\n      type: Input\n    }],\n    backdrop: [{\n      type: Input\n    }],\n    keyboard: [{\n      type: Input\n    }],\n    onShow: [{\n      type: Output\n    }],\n    onOpen: [{\n      type: Output\n    }],\n    onHide: [{\n      type: Output\n    }],\n    onClose: [{\n      type: Output\n    }],\n    onDismiss: [{\n      type: Output\n    }],\n    onLoaded: [{\n      type: Output\n    }],\n    fadeClass: [{\n      type: HostBinding,\n      args: ['class.fade']\n    }],\n    modalClass: [{\n      type: HostBinding,\n      args: ['class.modal']\n    }],\n    roleAttr: [{\n      type: HostBinding,\n      args: ['attr.role']\n    }],\n    tabindexAttr: [{\n      type: HostBinding,\n      args: ['attr.tabindex']\n    }],\n    size: [{\n      type: Input\n    }],\n    cssClass: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nvar BsModalHeaderComponent = /*#__PURE__*/_createClass(\n/**\n * @param {?} modal\n */\nfunction BsModalHeaderComponent(modal) {\n  _classCallCheck(this, BsModalHeaderComponent);\n\n  this.modal = modal;\n  this.showDismiss = false;\n});\n\nBsModalHeaderComponent.ɵfac = function BsModalHeaderComponent_Factory(t) {\n  return new (t || BsModalHeaderComponent)(ɵngcc0.ɵɵdirectiveInject(BsModalComponent));\n};\n\nBsModalHeaderComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: BsModalHeaderComponent,\n  selectors: [[\"bs-modal-header\"]],\n  inputs: {\n    showDismiss: \"showDismiss\"\n  },\n  ngContentSelectors: _c0,\n  decls: 3,\n  vars: 1,\n  consts: [[1, \"modal-header\"], [\"type\", \"button\", \"class\", \"close\", \"aria-label\", \"Dismiss\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"aria-label\", \"Dismiss\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"]],\n  template: function BsModalHeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵtemplate(1, BsModalHeaderComponent_button_1_Template, 3, 0, \"button\", 1);\n      ɵngcc0.ɵɵprojection(2);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showDismiss);\n    }\n  },\n  directives: [ɵngcc1.NgIf],\n  encapsulation: 2\n});\n/** @nocollapse */\n\nBsModalHeaderComponent.ctorParameters = function () {\n  return [{\n    type: BsModalComponent\n  }];\n};\n\nBsModalHeaderComponent.propDecorators = {\n  showDismiss: [{\n    type: Input\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalHeaderComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bs-modal-header',\n      template: \"\\n        <div class=\\\"modal-header\\\">\\n            <button *ngIf=\\\"showDismiss\\\" type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Dismiss\\\" (click)=\\\"modal.dismiss()\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <ng-content></ng-content>\\n        </div>\\n    \"\n    }]\n  }], function () {\n    return [{\n      type: BsModalComponent\n    }];\n  }, {\n    showDismiss: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nvar BsModalBodyComponent = /*#__PURE__*/_createClass(function BsModalBodyComponent() {\n  _classCallCheck(this, BsModalBodyComponent);\n});\n\nBsModalBodyComponent.ɵfac = function BsModalBodyComponent_Factory(t) {\n  return new (t || BsModalBodyComponent)();\n};\n\nBsModalBodyComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: BsModalBodyComponent,\n  selectors: [[\"bs-modal-body\"]],\n  ngContentSelectors: _c0,\n  decls: 2,\n  vars: 0,\n  consts: [[1, \"modal-body\"]],\n  template: function BsModalBodyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵprojection(1);\n      ɵngcc0.ɵɵelementEnd();\n    }\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalBodyComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bs-modal-body',\n      template: \"\\n        <div class=\\\"modal-body\\\">\\n            <ng-content></ng-content>\\n        </div>\\n    \"\n    }]\n  }], null, null);\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nvar BsModalFooterComponent = /*#__PURE__*/_createClass(\n/**\n * @param {?} modal\n */\nfunction BsModalFooterComponent(modal) {\n  _classCallCheck(this, BsModalFooterComponent);\n\n  this.modal = modal;\n  this.showDefaultButtons = false;\n  this.dismissButtonLabel = 'Dismiss';\n  this.closeButtonLabel = 'Close';\n});\n\nBsModalFooterComponent.ɵfac = function BsModalFooterComponent_Factory(t) {\n  return new (t || BsModalFooterComponent)(ɵngcc0.ɵɵdirectiveInject(BsModalComponent));\n};\n\nBsModalFooterComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: BsModalFooterComponent,\n  selectors: [[\"bs-modal-footer\"]],\n  inputs: {\n    showDefaultButtons: \"showDefaultButtons\",\n    dismissButtonLabel: \"dismissButtonLabel\",\n    closeButtonLabel: \"closeButtonLabel\"\n  },\n  ngContentSelectors: _c0,\n  decls: 4,\n  vars: 2,\n  consts: [[1, \"modal-footer\"], [\"type\", \"button\", \"class\", \"btn btn-default\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function BsModalFooterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵprojection(1);\n      ɵngcc0.ɵɵtemplate(2, BsModalFooterComponent_button_2_Template, 2, 1, \"button\", 1);\n      ɵngcc0.ɵɵtemplate(3, BsModalFooterComponent_button_3_Template, 2, 1, \"button\", 2);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showDefaultButtons);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showDefaultButtons);\n    }\n  },\n  directives: [ɵngcc1.NgIf],\n  encapsulation: 2\n});\n/** @nocollapse */\n\nBsModalFooterComponent.ctorParameters = function () {\n  return [{\n    type: BsModalComponent\n  }];\n};\n\nBsModalFooterComponent.propDecorators = {\n  showDefaultButtons: [{\n    type: Input\n  }],\n  dismissButtonLabel: [{\n    type: Input\n  }],\n  closeButtonLabel: [{\n    type: Input\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalFooterComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bs-modal-footer',\n      template: \"\\n        <div class=\\\"modal-footer\\\">\\n            <ng-content></ng-content>\\n            <button *ngIf=\\\"showDefaultButtons\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"modal.dismiss()\\\">\\n                {{dismissButtonLabel}}\\n            </button>\\n            <button *ngIf=\\\"showDefaultButtons\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"modal.close()\\\">\\n                {{closeButtonLabel}}\\n              </button>\\n        </div>\\n    \"\n    }]\n  }], function () {\n    return [{\n      type: BsModalComponent\n    }];\n  }, {\n    showDefaultButtons: [{\n      type: Input\n    }],\n    dismissButtonLabel: [{\n      type: Input\n    }],\n    closeButtonLabel: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nvar BsAutofocusDirective = /*#__PURE__*/_createClass(\n/**\n * @param {?} el\n * @param {?} modal\n */\nfunction BsAutofocusDirective(el, modal) {\n  var _this10 = this;\n\n  _classCallCheck(this, BsAutofocusDirective);\n\n  this.el = el;\n  this.modal = modal;\n\n  if (modal) {\n    this.modal.onOpen.subscribe(function () {\n      _this10.el.nativeElement.focus();\n    });\n  }\n});\n\nBsAutofocusDirective.ɵfac = function BsAutofocusDirective_Factory(t) {\n  return new (t || BsAutofocusDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(BsModalComponent, 8));\n};\n\nBsAutofocusDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: BsAutofocusDirective,\n  selectors: [[\"\", \"autofocus\", \"\"]]\n});\n/** @nocollapse */\n\nBsAutofocusDirective.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: BsModalComponent,\n    decorators: [{\n      type: Optional\n    }]\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsAutofocusDirective, [{\n    type: Directive,\n    args: [{\n      // tslint:disable-next-line:directive-selector\n      selector: '[autofocus]'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: BsModalComponent,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nvar BsModalModule = /*#__PURE__*/_createClass(function BsModalModule() {\n  _classCallCheck(this, BsModalModule);\n});\n\nBsModalModule.ɵfac = function BsModalModule_Factory(t) {\n  return new (t || BsModalModule)();\n};\n\nBsModalModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: BsModalModule\n});\nBsModalModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  providers: [BsModalService],\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [BsModalComponent, BsModalHeaderComponent, BsModalBodyComponent, BsModalFooterComponent, BsAutofocusDirective],\n      providers: [BsModalService],\n      exports: [BsModalComponent, BsModalHeaderComponent, BsModalBodyComponent, BsModalFooterComponent, BsAutofocusDirective]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(BsModalModule, {\n    declarations: function declarations() {\n      return [BsModalComponent, BsModalHeaderComponent, BsModalBodyComponent, BsModalFooterComponent, BsAutofocusDirective];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [BsModalComponent, BsModalHeaderComponent, BsModalBodyComponent, BsModalFooterComponent, BsAutofocusDirective];\n    }\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nexport { BsModalService, BsModalComponent, BsModalHeaderComponent, BsModalBodyComponent, BsModalFooterComponent, BsModalHideType, BsModalSize, BsModalModule, BsAutofocusDirective as ɵa };","map":{"version":3,"sources":["/Users/mbalazs/projects/knox/knox-homepage-ui/node_modules/ng2-bs3-modal/__ivy_ngcc__/fesm2015/ng2-bs3-modal.js"],"names":["Injectable","Component","Input","Output","EventEmitter","ElementRef","HostBinding","NgZone","Directive","Optional","NgModule","fromEvent","Observable","Subject","of","merge","zip","filter","map","share","tap","take","CommonModule","ɵngcc0","ɵngcc1","_c0","BsModalHeaderComponent_button_1_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","BsModalHeaderComponent_button_1_Template_button_click_0_listener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","modal","dismiss","ɵɵtext","ɵɵelementEnd","BsModalFooterComponent_button_2_Template","_r3","BsModalFooterComponent_button_2_Template_button_click_0_listener","ctx_r2","ctx_r0","ɵɵadvance","ɵɵtextInterpolate1","dismissButtonLabel","BsModalFooterComponent_button_3_Template","_r5","BsModalFooterComponent_button_3_Template_button_click_0_listener","ctx_r4","close","closeButtonLabel","BsModalHideType","Close","Dismiss","Backdrop","Keyboard","RouteChange","Destroy","BsModalSize","size","Small","Large","EVENT_SUFFIX","KEYUP_EVENT_NAME","CLICK_EVENT_NAME","SHOW_EVENT_NAME","BsModalService","modals","$body","jQuery","document","body","onBackdropClose$","pipe","e","target","is","onKeyboardClose$","which","onModalStack$","zIndex","length","css","setTimeout","not","addClass","push","index","indexOf","splice","visible","m","focus","Promise","all","ɵfac","BsModalService_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","ctorParameters","ngDevMode","ɵsetClassMetadata","type","EVENT_SUFFIX$1","SHOW_EVENT_NAME$1","SHOWN_EVENT_NAME","HIDE_EVENT_NAME","HIDDEN_EVENT_NAME","LOADED_EVENT_NAME","DATA_KEY","BsModalComponent","element","service","zone","overrideSize","onInternalClose$","subscriptions","showing","hiding","animation","backdrop","keyboard","onShow","onOpen","onHide","onClose","onDismiss","onLoaded","setVisible","isVisible","setOptions","options","undefined","add","init","$modal","data","wireUpEventEmitters","$dialog","find","next","destroy","trigger","isValidSize","show","toPromise","value","hide","emit","then","classes","isSmall","isLarge","cssClass","join","create","o","onShown$","subscribe","complete","transitionFix","fn","TRANSITION_DURATION","onHidden$","nativeElement","appendTo","onShowEvent$","onShownEvent$","onHideEvent$","onHiddenEvent$","onLoadedEvent$","onClose$","onHide$","x","event","focusNext","onDismiss$","wireUpEventEmitter","emitter","stream$","observers","sub","run","remove","forEach","s","unsubscribe","BsModalComponent_Factory","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","hostVars","hostBindings","BsModalComponent_HostBindings","ɵɵattribute","roleAttr","tabindexAttr","ɵɵclassProp","fadeClass","modalClass","inputs","outputs","features","ɵɵNgOnChangesFeature","ngContentSelectors","decls","vars","consts","template","BsModalComponent_Template","ɵɵprojectionDef","ɵɵprojection","ɵɵproperty","getCssClasses","directives","NgClass","encapsulation","propDecorators","args","selector","BsModalHeaderComponent","showDismiss","BsModalHeaderComponent_Factory","BsModalHeaderComponent_Template","ɵɵtemplate","NgIf","BsModalBodyComponent","BsModalBodyComponent_Factory","BsModalBodyComponent_Template","BsModalFooterComponent","showDefaultButtons","BsModalFooterComponent_Factory","BsModalFooterComponent_Template","BsAutofocusDirective","el","BsAutofocusDirective_Factory","ɵdir","ɵɵdefineDirective","decorators","BsModalModule","BsModalModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","providers","imports","declarations","exports","ngJitMode","ɵɵsetNgModuleScope","ɵa"],"mappings":"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","sourcesContent":["import { Injectable, Component, Input, Output, EventEmitter, ElementRef, HostBinding, NgZone, Directive, Optional, NgModule } from '@angular/core';\nimport { fromEvent, Observable, Subject, of, merge, zip } from 'rxjs';\nimport { filter, map, share, tap, take } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @enum {number} */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nconst _c0 = [\"*\"];\nfunction BsModalHeaderComponent_button_1_Template(rf, ctx) { if (rf & 1) {\n    const _r2 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 2);\n    ɵngcc0.ɵɵlistener(\"click\", function BsModalHeaderComponent_button_1_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r2); const ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.modal.dismiss(); });\n    ɵngcc0.ɵɵelementStart(1, \"span\", 3);\n    ɵngcc0.ɵɵtext(2, \"\\u00D7\");\n    ɵngcc0.ɵɵelementEnd()();\n} }\nfunction BsModalFooterComponent_button_2_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 3);\n    ɵngcc0.ɵɵlistener(\"click\", function BsModalFooterComponent_button_2_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r3); const ctx_r2 = ɵngcc0.ɵɵnextContext(); return ctx_r2.modal.dismiss(); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r0.dismissButtonLabel, \" \");\n} }\nfunction BsModalFooterComponent_button_3_Template(rf, ctx) { if (rf & 1) {\n    const _r5 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 4);\n    ɵngcc0.ɵɵlistener(\"click\", function BsModalFooterComponent_button_3_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r5); const ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.modal.close(); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r1.closeButtonLabel, \" \");\n} }\nconst BsModalHideType = {\n    Close: 0,\n    Dismiss: 1,\n    Backdrop: 2,\n    Keyboard: 3,\n    RouteChange: 4,\n    Destroy: 5,\n};\nBsModalHideType[BsModalHideType.Close] = 'Close';\nBsModalHideType[BsModalHideType.Dismiss] = 'Dismiss';\nBsModalHideType[BsModalHideType.Backdrop] = 'Backdrop';\nBsModalHideType[BsModalHideType.Keyboard] = 'Keyboard';\nBsModalHideType[BsModalHideType.RouteChange] = 'RouteChange';\nBsModalHideType[BsModalHideType.Destroy] = 'Destroy';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass BsModalSize {\n    /**\n     * @param {?} size\n     * @return {?}\n     */\n    static isValidSize(size) {\n        return size && (size === BsModalSize.Small || size === BsModalSize.Large);\n    }\n}\nBsModalSize.Small = 'sm';\nBsModalSize.Large = 'lg';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst EVENT_SUFFIX = 'ng2-bs3-modal';\n/** @type {?} */\nconst KEYUP_EVENT_NAME = `keyup.${EVENT_SUFFIX}`;\n/** @type {?} */\nconst CLICK_EVENT_NAME = `click.${EVENT_SUFFIX}`;\n/** @type {?} */\nconst SHOW_EVENT_NAME = `show.bs.modal.${EVENT_SUFFIX}`;\nclass BsModalService {\n    constructor() {\n        this.modals = [];\n        this.$body = jQuery(document.body);\n        this.onBackdropClose$ = fromEvent(this.$body, CLICK_EVENT_NAME).pipe(filter((e) => jQuery(e.target).is('.modal')), map(() => BsModalHideType.Backdrop), share());\n        this.onKeyboardClose$ = fromEvent(this.$body, KEYUP_EVENT_NAME).pipe(filter((e) => e.which === 27), map(() => BsModalHideType.Keyboard), share());\n        this.onModalStack$ = fromEvent(this.$body, SHOW_EVENT_NAME).pipe(tap(() => {\n            /** @type {?} */\n            const zIndex = 1040 + (10 * jQuery('.modal:visible').length);\n            jQuery(this).css('z-index', zIndex);\n            setTimeout(function () {\n                jQuery('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');\n            }, 0);\n        }), share());\n    }\n    /**\n     * @param {?} modal\n     * @return {?}\n     */\n    add(modal) {\n        this.modals.push(modal);\n    }\n    /**\n     * @param {?} modal\n     * @return {?}\n     */\n    remove(modal) {\n        /** @type {?} */\n        const index = this.modals.indexOf(modal);\n        if (index > -1) {\n            this.modals.splice(index, 1);\n        }\n    }\n    /**\n     * @return {?}\n     */\n    focusNext() {\n        /** @type {?} */\n        const visible = this.modals.filter(m => m.visible);\n        if (visible.length) {\n            this.$body.addClass('modal-open');\n            visible[visible.length - 1].focus();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    dismissAll() {\n        return Promise.all(this.modals.map((m) => {\n            return m.dismiss();\n        }));\n    }\n}\nBsModalService.ɵfac = function BsModalService_Factory(t) { return new (t || BsModalService)(); };\nBsModalService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: BsModalService, factory: BsModalService.ɵfac });\n/** @nocollapse */\nBsModalService.ctorParameters = () => [];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst EVENT_SUFFIX$1 = 'ng2-bs3-modal';\n/** @type {?} */\nconst SHOW_EVENT_NAME$1 = `show.bs.modal.${EVENT_SUFFIX$1}`;\n/** @type {?} */\nconst SHOWN_EVENT_NAME = `shown.bs.modal.${EVENT_SUFFIX$1}`;\n/** @type {?} */\nconst HIDE_EVENT_NAME = `hide.bs.modal.${EVENT_SUFFIX$1}`;\n/** @type {?} */\nconst HIDDEN_EVENT_NAME = `hidden.bs.modal.${EVENT_SUFFIX$1}`;\n/** @type {?} */\nconst LOADED_EVENT_NAME = `loaded.bs.modal.${EVENT_SUFFIX$1}`;\n/** @type {?} */\nconst DATA_KEY = 'bs.modal';\nclass BsModalComponent {\n    /**\n     * @param {?} element\n     * @param {?} service\n     * @param {?} zone\n     */\n    constructor(element, service, zone) {\n        this.element = element;\n        this.service = service;\n        this.zone = zone;\n        this.overrideSize = null;\n        this.onInternalClose$ = new Subject();\n        this.subscriptions = [];\n        this.visible = false;\n        this.showing = false;\n        this.hiding = false;\n        this.animation = true;\n        this.backdrop = true;\n        this.keyboard = true;\n        this.onShow = new EventEmitter();\n        this.onOpen = new EventEmitter();\n        this.onHide = new EventEmitter();\n        this.onClose = new EventEmitter();\n        this.onDismiss = new EventEmitter();\n        this.onLoaded = new EventEmitter();\n        this.setVisible = (isVisible) => {\n            return () => {\n                this.visible = isVisible;\n                this.showing = false;\n                this.hiding = false;\n            };\n        };\n        this.setOptions = (options) => {\n            /** @type {?} */\n            let backdrop = options.backdrop;\n            if (typeof backdrop === 'string' && backdrop !== 'static') {\n                backdrop = true;\n            }\n            if (options.backdrop !== undefined) {\n                this.options.backdrop = backdrop;\n            }\n            if (options.keyboard !== undefined) {\n                this.options.keyboard = options.keyboard;\n            }\n        };\n        this.service.add(this);\n        this.init();\n    }\n    /**\n     * @return {?}\n     */\n    get options() {\n        if (!this.$modal) {\n            this.init();\n        }\n        return this.$modal.data(DATA_KEY).options;\n    }\n    /**\n     * @return {?}\n     */\n    get fadeClass() { return this.animation; }\n    /**\n     * @return {?}\n     */\n    get modalClass() { return true; }\n    /**\n     * @return {?}\n     */\n    get roleAttr() { return 'dialog'; }\n    /**\n     * @return {?}\n     */\n    get tabindexAttr() { return '-1'; }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.wireUpEventEmitters();\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        this.$dialog = this.$modal.find('.modal-dialog');\n    }\n    /**\n     * @return {?}\n     */\n    ngOnChanges() {\n        this.setOptions({\n            backdrop: this.backdrop,\n            keyboard: this.keyboard\n        });\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.onInternalClose$.next(BsModalHideType.Destroy);\n        return this.destroy();\n    }\n    /**\n     * @return {?}\n     */\n    focus() {\n        this.$modal.trigger('focus');\n    }\n    /**\n     * @return {?}\n     */\n    routerCanDeactivate() {\n        this.onInternalClose$.next(BsModalHideType.RouteChange);\n        return this.destroy();\n    }\n    /**\n     * @param {?=} size\n     * @return {?}\n     */\n    open(size) {\n        this.overrideSize = null;\n        if (BsModalSize.isValidSize(size)) {\n            this.overrideSize = size;\n        }\n        return this.show().toPromise();\n    }\n    /**\n     * @param {?=} value\n     * @return {?}\n     */\n    close(value) {\n        this.onInternalClose$.next(BsModalHideType.Close);\n        return this.hide().pipe(tap(() => this.onClose.emit(value))).toPromise().then(() => value);\n    }\n    /**\n     * @return {?}\n     */\n    dismiss() {\n        this.onInternalClose$.next(BsModalHideType.Dismiss);\n        return this.hide().toPromise();\n    }\n    /**\n     * @return {?}\n     */\n    getCssClasses() {\n        /** @type {?} */\n        const classes = [];\n        if (this.isSmall()) {\n            classes.push('modal-sm');\n        }\n        if (this.isLarge()) {\n            classes.push('modal-lg');\n        }\n        if (this.cssClass) {\n            classes.push(this.cssClass);\n        }\n        return classes.join(' ');\n    }\n    /**\n     * @return {?}\n     */\n    isSmall() {\n        return this.overrideSize !== BsModalSize.Large\n            && this.size === BsModalSize.Small\n            || this.overrideSize === BsModalSize.Small;\n    }\n    /**\n     * @return {?}\n     */\n    isLarge() {\n        return this.overrideSize !== BsModalSize.Small\n            && this.size === BsModalSize.Large\n            || this.overrideSize === BsModalSize.Large;\n    }\n    /**\n     * @return {?}\n     */\n    show() {\n        if (this.visible && !this.hiding) {\n            return of(null);\n        }\n        this.showing = true;\n        return Observable.create((o) => {\n            this.onShown$.pipe(take(1)).subscribe(next => {\n                o.next(next);\n                o.complete();\n            });\n            this.transitionFix();\n            this.$modal.modal('show');\n        });\n    }\n    /**\n     * @return {?}\n     */\n    transitionFix() {\n        // Fix for shown.bs.modal not firing when .fade is present\n        // https://github.com/twbs/bootstrap/issues/11793\n        if (this.animation) {\n            setTimeout(() => {\n                this.$modal.trigger('focus').trigger(SHOWN_EVENT_NAME);\n            }, jQuery.fn.modal['Constructor'].TRANSITION_DURATION);\n        }\n    }\n    /**\n     * @return {?}\n     */\n    hide() {\n        if (!this.visible && !this.showing) {\n            return of(null);\n        }\n        this.hiding = true;\n        return Observable.create((o) => {\n            this.onHidden$.pipe(take(1)).subscribe(next => {\n                o.next(next);\n                o.complete();\n            });\n            this.$modal.modal('hide');\n        });\n    }\n    /**\n     * @return {?}\n     */\n    init() {\n        this.$modal = jQuery(this.element.nativeElement);\n        this.$modal.appendTo(document.body);\n        this.$modal.modal({\n            show: false\n        });\n        this.onShowEvent$ = fromEvent(this.$modal, SHOW_EVENT_NAME$1);\n        this.onShownEvent$ = fromEvent(this.$modal, SHOWN_EVENT_NAME);\n        this.onHideEvent$ = fromEvent(this.$modal, HIDE_EVENT_NAME);\n        this.onHiddenEvent$ = fromEvent(this.$modal, HIDDEN_EVENT_NAME);\n        this.onLoadedEvent$ = fromEvent(this.$modal, LOADED_EVENT_NAME);\n        /** @type {?} */\n        const onClose$ = merge(this.onInternalClose$, this.service.onBackdropClose$, this.service.onKeyboardClose$);\n        this.onHide$ = zip(this.onHideEvent$, onClose$).pipe(map(x => /** @type {?} */ ({ event: x[0], type: x[1] })));\n        this.onHidden$ = zip(this.onHiddenEvent$, onClose$).pipe(map(x => x[1]), tap(this.setVisible(false)), tap(() => this.service.focusNext()), share());\n        this.onShown$ = this.onShownEvent$.pipe(tap(this.setVisible(true)), share());\n        this.onDismiss$ = this.onHidden$.pipe(filter((x) => x !== BsModalHideType.Close));\n        // Start watching for events\n        this.subscriptions.push(...[\n            this.onShown$.subscribe(() => { }),\n            this.onHidden$.subscribe(() => { }),\n            this.service.onModalStack$.subscribe(() => { })\n        ]);\n    }\n    /**\n     * @return {?}\n     */\n    wireUpEventEmitters() {\n        this.wireUpEventEmitter(this.onShow, this.onShowEvent$);\n        this.wireUpEventEmitter(this.onOpen, this.onShown$);\n        this.wireUpEventEmitter(this.onHide, this.onHide$);\n        this.wireUpEventEmitter(this.onDismiss, this.onDismiss$);\n        this.wireUpEventEmitter(this.onLoaded, this.onLoadedEvent$);\n    }\n    /**\n     * @template T\n     * @param {?} emitter\n     * @param {?} stream$\n     * @return {?}\n     */\n    wireUpEventEmitter(emitter, stream$) {\n        if (emitter.observers.length === 0) {\n            return;\n        }\n        /** @type {?} */\n        const sub = stream$.subscribe((next) => {\n            this.zone.run(() => {\n                emitter.next(next);\n            });\n        });\n        this.subscriptions.push(sub);\n    }\n    /**\n     * @return {?}\n     */\n    destroy() {\n        return this.hide().pipe(tap(() => {\n            this.service.remove(this);\n            this.subscriptions.forEach(s => s.unsubscribe());\n            this.subscriptions = [];\n            if (this.$modal) {\n                this.$modal.data(DATA_KEY, null);\n                this.$modal.remove();\n                this.$modal = null;\n            }\n        })).toPromise();\n    }\n}\nBsModalComponent.ɵfac = function BsModalComponent_Factory(t) { return new (t || BsModalComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(BsModalService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nBsModalComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: BsModalComponent, selectors: [[\"bs-modal\"]], hostVars: 6, hostBindings: function BsModalComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"role\", ctx.roleAttr)(\"tabindex\", ctx.tabindexAttr);\n        ɵngcc0.ɵɵclassProp(\"fade\", ctx.fadeClass)(\"modal\", ctx.modalClass);\n    } }, inputs: { animation: \"animation\", backdrop: \"backdrop\", keyboard: \"keyboard\", size: \"size\", cssClass: \"cssClass\" }, outputs: { onShow: \"onShow\", onOpen: \"onOpen\", onHide: \"onHide\", onClose: \"onClose\", onDismiss: \"onDismiss\", onLoaded: \"onLoaded\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c0, decls: 3, vars: 1, consts: [[1, \"modal-dialog\", 3, \"ngClass\"], [1, \"modal-content\"]], template: function BsModalComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd()();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngClass\", ctx.getCssClasses());\n    } }, directives: [ɵngcc1.NgClass], encapsulation: 2 });\n/** @nocollapse */\nBsModalComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: BsModalService },\n    { type: NgZone }\n];\nBsModalComponent.propDecorators = {\n    animation: [{ type: Input }],\n    backdrop: [{ type: Input }],\n    keyboard: [{ type: Input }],\n    size: [{ type: Input }],\n    cssClass: [{ type: Input }],\n    onShow: [{ type: Output }],\n    onOpen: [{ type: Output }],\n    onHide: [{ type: Output }],\n    onClose: [{ type: Output }],\n    onDismiss: [{ type: Output }],\n    onLoaded: [{ type: Output }],\n    fadeClass: [{ type: HostBinding, args: ['class.fade',] }],\n    modalClass: [{ type: HostBinding, args: ['class.modal',] }],\n    roleAttr: [{ type: HostBinding, args: ['attr.role',] }],\n    tabindexAttr: [{ type: HostBinding, args: ['attr.tabindex',] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-modal',\n                template: `\n        <div class=\"modal-dialog\" [ngClass]=\"getCssClasses()\">\n            <div class=\"modal-content\">\n                <ng-content></ng-content>\n            </div>\n        </div>\n    `\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: BsModalService }, { type: ɵngcc0.NgZone }]; }, { animation: [{\n            type: Input\n        }], backdrop: [{\n            type: Input\n        }], keyboard: [{\n            type: Input\n        }], onShow: [{\n            type: Output\n        }], onOpen: [{\n            type: Output\n        }], onHide: [{\n            type: Output\n        }], onClose: [{\n            type: Output\n        }], onDismiss: [{\n            type: Output\n        }], onLoaded: [{\n            type: Output\n        }], fadeClass: [{\n            type: HostBinding,\n            args: ['class.fade']\n        }], modalClass: [{\n            type: HostBinding,\n            args: ['class.modal']\n        }], roleAttr: [{\n            type: HostBinding,\n            args: ['attr.role']\n        }], tabindexAttr: [{\n            type: HostBinding,\n            args: ['attr.tabindex']\n        }], size: [{\n            type: Input\n        }], cssClass: [{\n            type: Input\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass BsModalHeaderComponent {\n    /**\n     * @param {?} modal\n     */\n    constructor(modal) {\n        this.modal = modal;\n        this.showDismiss = false;\n    }\n}\nBsModalHeaderComponent.ɵfac = function BsModalHeaderComponent_Factory(t) { return new (t || BsModalHeaderComponent)(ɵngcc0.ɵɵdirectiveInject(BsModalComponent)); };\nBsModalHeaderComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: BsModalHeaderComponent, selectors: [[\"bs-modal-header\"]], inputs: { showDismiss: \"showDismiss\" }, ngContentSelectors: _c0, decls: 3, vars: 1, consts: [[1, \"modal-header\"], [\"type\", \"button\", \"class\", \"close\", \"aria-label\", \"Dismiss\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"aria-label\", \"Dismiss\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"]], template: function BsModalHeaderComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, BsModalHeaderComponent_button_1_Template, 3, 0, \"button\", 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showDismiss);\n    } }, directives: [ɵngcc1.NgIf], encapsulation: 2 });\n/** @nocollapse */\nBsModalHeaderComponent.ctorParameters = () => [\n    { type: BsModalComponent }\n];\nBsModalHeaderComponent.propDecorators = {\n    showDismiss: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalHeaderComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-modal-header',\n                template: `\n        <div class=\"modal-header\">\n            <button *ngIf=\"showDismiss\" type=\"button\" class=\"close\" aria-label=\"Dismiss\" (click)=\"modal.dismiss()\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <ng-content></ng-content>\n        </div>\n    `\n            }]\n    }], function () { return [{ type: BsModalComponent }]; }, { showDismiss: [{\n            type: Input\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass BsModalBodyComponent {\n}\nBsModalBodyComponent.ɵfac = function BsModalBodyComponent_Factory(t) { return new (t || BsModalBodyComponent)(); };\nBsModalBodyComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: BsModalBodyComponent, selectors: [[\"bs-modal-body\"]], ngContentSelectors: _c0, decls: 2, vars: 0, consts: [[1, \"modal-body\"]], template: function BsModalBodyComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵprojection(1);\n        ɵngcc0.ɵɵelementEnd();\n    } }, encapsulation: 2 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalBodyComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-modal-body',\n                template: `\n        <div class=\"modal-body\">\n            <ng-content></ng-content>\n        </div>\n    `\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass BsModalFooterComponent {\n    /**\n     * @param {?} modal\n     */\n    constructor(modal) {\n        this.modal = modal;\n        this.showDefaultButtons = false;\n        this.dismissButtonLabel = 'Dismiss';\n        this.closeButtonLabel = 'Close';\n    }\n}\nBsModalFooterComponent.ɵfac = function BsModalFooterComponent_Factory(t) { return new (t || BsModalFooterComponent)(ɵngcc0.ɵɵdirectiveInject(BsModalComponent)); };\nBsModalFooterComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: BsModalFooterComponent, selectors: [[\"bs-modal-footer\"]], inputs: { showDefaultButtons: \"showDefaultButtons\", dismissButtonLabel: \"dismissButtonLabel\", closeButtonLabel: \"closeButtonLabel\" }, ngContentSelectors: _c0, decls: 4, vars: 2, consts: [[1, \"modal-footer\"], [\"type\", \"button\", \"class\", \"btn btn-default\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]], template: function BsModalFooterComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵprojection(1);\n        ɵngcc0.ɵɵtemplate(2, BsModalFooterComponent_button_2_Template, 2, 1, \"button\", 1);\n        ɵngcc0.ɵɵtemplate(3, BsModalFooterComponent_button_3_Template, 2, 1, \"button\", 2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showDefaultButtons);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showDefaultButtons);\n    } }, directives: [ɵngcc1.NgIf], encapsulation: 2 });\n/** @nocollapse */\nBsModalFooterComponent.ctorParameters = () => [\n    { type: BsModalComponent }\n];\nBsModalFooterComponent.propDecorators = {\n    showDefaultButtons: [{ type: Input }],\n    dismissButtonLabel: [{ type: Input }],\n    closeButtonLabel: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalFooterComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-modal-footer',\n                template: `\n        <div class=\"modal-footer\">\n            <ng-content></ng-content>\n            <button *ngIf=\"showDefaultButtons\" type=\"button\" class=\"btn btn-default\" (click)=\"modal.dismiss()\">\n                {{dismissButtonLabel}}\n            </button>\n            <button *ngIf=\"showDefaultButtons\" type=\"button\" class=\"btn btn-primary\" (click)=\"modal.close()\">\n                {{closeButtonLabel}}\n              </button>\n        </div>\n    `\n            }]\n    }], function () { return [{ type: BsModalComponent }]; }, { showDefaultButtons: [{\n            type: Input\n        }], dismissButtonLabel: [{\n            type: Input\n        }], closeButtonLabel: [{\n            type: Input\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass BsAutofocusDirective {\n    /**\n     * @param {?} el\n     * @param {?} modal\n     */\n    constructor(el, modal) {\n        this.el = el;\n        this.modal = modal;\n        if (modal) {\n            this.modal.onOpen.subscribe(() => {\n                this.el.nativeElement.focus();\n            });\n        }\n    }\n}\nBsAutofocusDirective.ɵfac = function BsAutofocusDirective_Factory(t) { return new (t || BsAutofocusDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(BsModalComponent, 8)); };\nBsAutofocusDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: BsAutofocusDirective, selectors: [[\"\", \"autofocus\", \"\"]] });\n/** @nocollapse */\nBsAutofocusDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: BsModalComponent, decorators: [{ type: Optional }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsAutofocusDirective, [{\n        type: Directive,\n        args: [{\n                // tslint:disable-next-line:directive-selector\n                selector: '[autofocus]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: BsModalComponent, decorators: [{\n                type: Optional\n            }] }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass BsModalModule {\n}\nBsModalModule.ɵfac = function BsModalModule_Factory(t) { return new (t || BsModalModule)(); };\nBsModalModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: BsModalModule });\nBsModalModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [\n        BsModalService\n    ], imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule\n                ],\n                declarations: [\n                    BsModalComponent,\n                    BsModalHeaderComponent,\n                    BsModalBodyComponent,\n                    BsModalFooterComponent,\n                    BsAutofocusDirective\n                ],\n                providers: [\n                    BsModalService\n                ],\n                exports: [\n                    BsModalComponent,\n                    BsModalHeaderComponent,\n                    BsModalBodyComponent,\n                    BsModalFooterComponent,\n                    BsAutofocusDirective\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(BsModalModule, { declarations: function () { return [BsModalComponent, BsModalHeaderComponent, BsModalBodyComponent, BsModalFooterComponent, BsAutofocusDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [BsModalComponent, BsModalHeaderComponent, BsModalBodyComponent, BsModalFooterComponent, BsAutofocusDirective]; } }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\nexport { BsModalService, BsModalComponent, BsModalHeaderComponent, BsModalBodyComponent, BsModalFooterComponent, BsModalHideType, BsModalSize, BsModalModule, BsAutofocusDirective as ɵa };\n\n"]},"metadata":{},"sourceType":"module"}